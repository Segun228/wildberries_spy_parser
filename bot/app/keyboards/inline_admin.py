from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder
from typing import Iterable


main = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ ğŸ“¦", callback_data="catalogue")],
        [InlineKeyboardButton(text="Ğ Ğ°ÑÑÑ‹Ğ»ĞºĞ° âœ‰ï¸", callback_data="send_menu")],
        [InlineKeyboardButton(text="ğŸ‘¤ ĞĞºĞºĞ°ÑƒĞ½Ñ‚", callback_data="account_menu")],
        [InlineKeyboardButton(text="ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹", callback_data="contacts")]
    ]
)

account_menu = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="ĞĞ´Ğ¼Ğ¸Ğ½ âš™ï¸", callback_data="admin_menu")],
        [InlineKeyboardButton(text="Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° ğŸ‘‘", callback_data="request_admin")],
        [InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu")],
    ]
)

delete_account_confirmation_menu = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="âœ… ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ", callback_data="delete_account")],
        [InlineKeyboardButton(text="âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ°", callback_data="account_menu")],
    ]
)



home = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu")],
    ]
)

restart = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="ğŸ”„ Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="restart")],
    ]
)


catalogue = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text=" ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³", callback_data="catalogue")],
        [InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu")],
    ]
)

no_posts = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text=" Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚ âœï¸", callback_data="catalogue")],
        [InlineKeyboardButton(text=" ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ ğŸ“–", callback_data="catalogue")],
        [InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu")],
    ]
)



async def get_posts(posts, category):
    keyboard = InlineKeyboardBuilder()
    category_id = category.get("id", 0)
    if posts is None or posts == [] or posts == ():
        keyboard.add(InlineKeyboardButton(text="ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ ğŸ“š", callback_data="catalogue"))
        keyboard.add(InlineKeyboardButton(text="Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ âœï¸", callback_data=f"edit_category_{category_id}"))
        keyboard.add(InlineKeyboardButton(text="Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ âŒ", callback_data=f"delete_category_{category_id}"))
        keyboard.add(InlineKeyboardButton(text="Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚ â•", callback_data=f"create_post_{category_id}"))
        keyboard.add(InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu"))
        return keyboard.adjust(1).as_markup()
    for post in posts:
        keyboard.add(InlineKeyboardButton(text=f"{post.get('title', 'ĞŸÑ€ĞµĞºÑ€Ğ°ÑĞ½Ğ¾Ğµ Ñ€Ğ°ÑÑ‚ĞµĞ½Ğ¸Ğµ')}", callback_data=f"post_{category_id}_{post.get('id')}"))
    keyboard.add(InlineKeyboardButton(text="Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ âœï¸", callback_data=f"edit_category_{category_id}"))
    keyboard.add(InlineKeyboardButton(text="Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ âŒ", callback_data=f"delete_category_{category_id}"))
    keyboard.add(InlineKeyboardButton(text="Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚ â•", callback_data=f"create_post_{category_id}"))
    keyboard.add(InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu"))
    return keyboard.adjust(1).as_markup()



async def get_post_menu(category_id, post_id):
    keyboard = InlineKeyboardBuilder()
    keyboard.add(InlineKeyboardButton(text="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾ ğŸ“¸", callback_data=f"add_photo_{post_id}"))
    keyboard.add(InlineKeyboardButton(text="Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚ ğŸ“", callback_data=f"edit_post_{category_id}_{post_id}"))
    keyboard.add(InlineKeyboardButton(text="Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚ ğŸ—‘ï¸", callback_data=f"delete_post_{category_id}_{post_id}"))
    keyboard.add(InlineKeyboardButton(text="ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ ğŸ“¦", callback_data="catalogue"))
    keyboard.add(InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu"))
    return keyboard.adjust(1).as_markup()


async def give_acess(user_id):
    keyboard = InlineKeyboardBuilder()
    keyboard.add(InlineKeyboardButton(text="Ğ Ğ°Ğ·Ñ€ĞµÑˆĞ¸Ñ‚ÑŒ âœ…", callback_data=f"access_give_{user_id}"))
    keyboard.add(InlineKeyboardButton(text="ĞÑ‚ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ÑŒ âŒ", callback_data=f"access_reject_{user_id}"))
    return keyboard.adjust(1).as_markup()



file_panel = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡ĞµÑ‚ ğŸ“ˆ", callback_data="get_report")],
        [InlineKeyboardButton(text="Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ°ÑÑĞ¾Ñ€Ñ‚Ğ¸Ğ¼ĞµĞ½Ñ‚ ğŸ“", callback_data="add_posts")],
        [InlineKeyboardButton(text="ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ°ÑÑĞ¾Ñ€Ñ‚Ğ¸Ğ¼ĞµĞ½Ñ‚ ğŸ”„", callback_data="replace_posts")],
        [InlineKeyboardButton(text="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ", callback_data="main_menu")],
    ]
)